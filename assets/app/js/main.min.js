jQuery(document).ready(function($) {
	
	$('.thumbnail-row .thumbnail').click(function(e){
	      e.preventDefault();

	      //SET NEW PHOTO
	      var photo_fullsize =  $(this).attr('src');
	      $('#active-image img').attr('src', photo_fullsize);

	      //UPDATE ACTIVE THUMBNAIL
	      $('.thumbnail-row').find('.active-thumb').removeClass('active-thumb');
	      $(this).addClass('active-thumb');

	});

});

jQuery(document).ready(function($) {
	
	var current;
	var open = false;


	$('.grid-item').click(function(e){
	      e.preventDefault();
	      
	      
	      if (open) {
	      	$(".overlay-content").addClass('hidden');
	      	open = false;
	      }
	      open = true;

	      current = $(this).attr('js-data');
	      $('#' + current).toggleClass('hidden');
	      

	});


	$('.exit-button').click(function(e){
	      e.preventDefault();

	      $('#' + current).addClass('hidden');

    }); 
});

$(document).ready(function(){
  $('.js-menu-trigger').on('click touchstart', function(e){
    $('.js-menu').toggleClass('is-visible');
    $('.js-menu-screen').toggleClass('is-visible');
    $(".menu").toggleClass('close');
    e.preventDefault();
  });

  $('.js-menu-screen').on('click touchstart', function(e){
    $('.js-menu').toggleClass('is-visible');
    $('.js-menu-screen').toggleClass('is-visible');
     $(".menu").toggleClass('close');
    e.preventDefault();
  });

  //DISABLE ACTIVE CLASS ON INDEX PAGE
  var pathname = window.location.pathname; // returns path only
  //ACTIVE CLASS FOR CURRENT PAGE LINK
  if (pathname.length > 1) {
      $(function() {
      $('nav a[href^="/' + location.pathname.split("/")[1] + '"]').addClass('active');
    });
  }
  


});




if (!Modernizr.svg) {
    $('img[src$=".svg"]').each(function()
    {
        $(this).attr('src', $(this).attr('src').replace('.svg', '.png'));
    });
}
$(function() {
    
    var $allVideos = $("iframe[src^='http://player.vimeo.com'], iframe[src^='http://www.youtube.com'], object, embed"),
    $fluidEl = $("figure");
	    	
	$allVideos.each(function() {
	
	  $(this)
	    // jQuery .data does not work on object/embed elements
	    .attr('data-aspectRatio', this.height / this.width)
	    .removeAttr('height')
	    .removeAttr('width');
	
	});
	
	$(window).resize(function() {
	
	  var newWidth = $fluidEl.width();
	  $allVideos.each(function() {
	  
	    var $el = $(this);
	    $el
	        .width(newWidth)
	        .height(newWidth * $el.attr('data-aspectRatio'));
	  
	  });
	
	}).resize();

});